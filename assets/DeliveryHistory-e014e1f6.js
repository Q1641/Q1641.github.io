import{V as v}from"./VueTable-961a399a.js";import{_ as y,r as i,f as _,o as p,c as g,d as n,t as f,u as d,g as E,F as b,p as I,h as B}from"./index-d2bcbd4b.js";const k=o=>(I("data-v-ec013ea4"),o=o(),B(),o),x=k(()=>n("h1",null,"DELIVERY HISTORY",-1)),T={id:"nav"},j=!1,A={__name:"DeliveryHistory",setup(o){var l={},a=i(0);const c=i(null);var t=0,r=[];function u(){document.getElementById("prev").disabled=!0,document.getElementById("next").disabled=!0,r[t]=c.value.getParcels(),t=t+1,fetch("http://localhost:8080/parcel/history/general?page="+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:document.cookie}}).then(e=>e.json()).then(e=>{e.parcel!=""?(l=e,a.value=a.value+1,document.getElementById("prev").disabled=!1,document.getElementById("next").disabled=!1):(document.getElementById("prev").disabled=!1,alert("no more data!"),t-=1)})}function m(){document.getElementById("prev").disabled=!0,document.getElementById("next").disabled=!0,r[t]=c.value.getParcels(),t=t-1,fetch("http://localhost:8080/parcel/history/general?page="+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:document.cookie}}).then(e=>e.json()).then(e=>{l=e,a.value=a.value+1,t!=0&&(document.getElementById("prev").disabled=!1),document.getElementById("next").disabled=!1})}return _(()=>{fetch("http://localhost:8080/parcel/history/general?page="+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:document.cookie}}).then(e=>e.json()).then(e=>{l=e,a.value=a.value+1})}),(e,s)=>(p(),g(b,null,[x,n("div",T,[n("h2",null,"Current page: "+f(d(t)+1),1),n("button",{id:"next",onClick:s[0]||(s[0]=h=>u())},"NEXT PAGE"),n("button",{disabled:"",id:"prev",onClick:s[1]||(s[1]=h=>m())},"PREV PAGE")]),(p(),E(v,{key:d(a).value,ref_key:"table",ref:c,data:d(l).history,select:j,selected:d(r)},null,8,["data","selected"]))],64))}},D=y(A,[["__scopeId","data-v-ec013ea4"]]);export{D as default};
