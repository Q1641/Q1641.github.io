import{V as f}from"./VueTable-961a399a.js";import{_ as b,r as u,f as E,o as h,c as _,d as s,t as y,u as r,g as P,F as I,p as T,h as B}from"./index-d2bcbd4b.js";const k=d=>(T("data-v-416460e1"),d=d(),B(),d),A=k(()=>s("h1",null,"PARCEL PENDING TO DEPO",-1)),j={id:"nav"},C=!0,x={__name:"PendingToDepo",setup(d){var i={},o=u(0);const c=u(null);var t=0,a=[];function m(){a[t]=c.value.getParcels();for(var e=[],n=0;n<a.length;n++)for(var l=0;l<a[n].length;l++)e.push(a[n][l]);fetch("http://localhost:8080/parcel/to-distribution-base",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:document.cookie},body:JSON.stringify({parcelIDs:e})}).then(p=>p.json()).then(p=>{console.log(JSON.stringify(p.body))})}function v(){document.getElementById("prev").disabled=!0,document.getElementById("next").disabled=!0,a[t]=c.value.getParcels(),t=t+1,fetch("http://localhost:8080/parcel/to-distribution-base?page="+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:document.cookie}}).then(e=>e.json()).then(e=>{e.parcels.length!=0?(i=e,o.value=o.value+1,document.getElementById("prev").disabled=!1,document.getElementById("next").disabled=!1):(alert("no more data!"),t-=1,t!=0&&(document.getElementById("prev").disabled=!1))})}function g(){document.getElementById("prev").disabled=!0,document.getElementById("next").disabled=!0,a[t]=c.value.getParcels(),t=t-1,fetch("http://localhost:8080/parcel/to-distribution-base?page="+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:document.cookie}}).then(e=>e.json()).then(e=>{i=e,o.value=o.value+1,t!=0&&(document.getElementById("prev").disabled=!1),document.getElementById("next").disabled=!1})}return E(()=>{fetch("http://localhost:8080/parcel/to-distribution-base?page=0",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:document.cookie}}).then(e=>e.json()).then(e=>{i=e,o.value=o.value+1})}),(e,n)=>(h(),_(I,null,[A,s("div",j,[s("button",{id:"next",onClick:n[0]||(n[0]=l=>v())},"NEXT PAGE"),s("button",{disabled:"",id:"prev",onClick:n[1]||(n[1]=l=>g())},"PREV PAGE"),s("button",{onClick:n[2]||(n[2]=l=>m())},"SEND SELECTED PARCELS")]),s("h2",null,"Current page: "+y(r(t)+1),1),(h(),P(f,{key:r(o).value,ref_key:"table",ref:c,data:r(i).parcels,select:C,selected:r(a)},null,8,["data","selected"]))],64))}},N=b(x,[["__scopeId","data-v-416460e1"]]);export{N as default};
