import{V as v}from"./VueTable-961a399a.js";import{_ as b,r as u,f as E,o as m,c as _,d as s,t as y,u as r,g as I,F as A,p as P,h as B}from"./index-d2bcbd4b.js";const k=i=>(P("data-v-eec03105"),i=i(),B(),i),C=k(()=>s("h1",null,"PARCEL PENDING FROM DEPOS",-1)),j={id:"nav"},T=!0,x={__name:"PendingFromDepo",setup(i){var d={},o=u(0);const c=u(null);var t=0,a=[];function h(){a[t]=c.value.getParcels();for(var e=[],n=0;n<a.length;n++)for(var l=0;l<a[n].length;l++)e.push(a[n][l]);fetch("http://localhost:8080/parcel/incoming",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:document.cookie},body:JSON.stringify({parcelIDs:e})}).then(p=>p.json()).then(p=>console.log(JSON.stringify(p.body)))}function g(){document.getElementById("prev").disabled=!0,document.getElementById("next").disabled=!0,a[t]=c.value.getParcels(),t=t+1,fetch("http://localhost:8080/parcel/incoming/from-distribution-base?page="+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:document.cookie}}).then(e=>e.json()).then(e=>{e.parcels.length!=0?(d=e,o.value=o.value+1,document.getElementById("prev").disabled=!1,document.getElementById("next").disabled=!1):(alert("no more data!"),t-=1,t!=0&&(document.getElementById("prev").disabled=!1))})}function f(){document.getElementById("prev").disabled=!0,document.getElementById("next").disabled=!0,a[t]=c.value.getParcels(),t=t-1,fetch("http://localhost:8080/parcel/incoming/from-distribution-base?page="+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:document.cookie}}).then(e=>e.json()).then(e=>{d=e,o.value=o.value+1,t!=0&&(document.getElementById("prev").disabled=!1),document.getElementById("next").disabled=!1})}return E(()=>{fetch("http://localhost:8080/parcel/incoming/from-distribution-base?page=0",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:document.cookie}}).then(e=>e.json()).then(e=>{d=e,o.value=o.value+1})}),(e,n)=>(m(),_(A,null,[C,s("div",j,[s("button",{id:"next",onClick:n[0]||(n[0]=l=>g())},"NEXT PAGE"),s("button",{disabled:"",id:"prev",onClick:n[1]||(n[1]=l=>f())},"PREV PAGE"),s("button",{onClick:n[2]||(n[2]=l=>h())},"CONFIRM SELECTED PACKAGE HAS ARRIVED")]),s("h2",null,"Current page: "+y(r(t)+1),1),(m(),I(v,{key:r(o).value,ref_key:"table",ref:c,data:r(d).parcels,select:T,selected:r(a)},null,8,["data","selected"]))],64))}},F=b(x,[["__scopeId","data-v-eec03105"]]);export{F as default};
