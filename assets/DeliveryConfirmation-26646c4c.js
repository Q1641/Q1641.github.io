import{V as y}from"./VueTable-961a399a.js";import{_ as E,r as u,f as b,o as v,c as _,d as s,t as I,u as p,g as A,F as C,p as S,h as j}from"./index-d2bcbd4b.js";const k=d=>(S("data-v-75ef904f"),d=d(),j(),d),P=k(()=>s("h1",null,"DELIVERY IN PROGRESS",-1)),B={id:"nav"},T=!0,D={__name:"DeliveryConfirmation",setup(d){var c={},l=u(0);const r=u(null);var n=0,o=[];function h(){document.getElementById("prev").disabled=!0,document.getElementById("next").disabled=!0,o[n]=r.value.getParcels(),n=n+1,fetch("http://localhost:8080/parcel/to-receiver/delivering?page="+n,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:document.cookie}}).then(e=>e.json()).then(e=>{e.parcels.length!=0?(c=e,l.value=l.value+1,document.getElementById("prev").disabled=!1,document.getElementById("next").disabled=!1):(alert("no more data!"),n-=1,n!=0&&(document.getElementById("prev").disabled=!1))})}function f(){document.getElementById("prev").disabled=!0,document.getElementById("next").disabled=!0,o[n]=r.value.getParcels(),n=n-1,fetch("http://localhost:8080/parcel/to-receiver/delivering?page="+n,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:document.cookie}}).then(e=>e.json()).then(e=>{c=e,l.value=l.value+1,n!=0&&(document.getElementById("prev").disabled=!1),document.getElementById("next").disabled=!1})}function g(){o[n]=r.value.getParcels();for(var e=[],t=0;t<o.length;t++)for(var a=0;a<o[t].length;a++)e.push(o[t][a]);fetch("http://localhost:8080/parcel/to-receiver/delivering",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:document.cookie},body:JSON.stringify({parcelIDs:e,status:3})}).then(i=>i.json()).then(i=>console.log(JSON.stringify(i.body)))}function m(){o[n]=r.value.getParcels();for(var e=[],t=0;t<o.length;t++)for(var a=0;a<o[t].length;a++)e.push(o[t][a]);fetch("http://localhost:8080/parcel/to-receiver/delivering",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:document.cookie},body:JSON.stringify({parcelIDs:e,status:4})}).then(i=>i.json()).then(i=>console.log(JSON.stringify(i.body)))}return b(()=>{fetch("http://localhost:8080/parcel/to-receiver/delivering?page=0",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:document.cookie}}).then(e=>e.json()).then(e=>{c=e,l.value=l.value+1})}),(e,t)=>(v(),_(C,null,[P,s("div",B,[s("button",{id:"next",onClick:t[0]||(t[0]=a=>h())},"NEXT PAGE"),s("button",{disabled:"",id:"prev",onClick:t[1]||(t[1]=a=>f())},"PREV PAGE"),s("button",{onClick:t[2]||(t[2]=a=>g())},"MARK PARCELS AS FINISHED"),s("button",{id:"second",onClick:t[3]||(t[3]=a=>m())},"MARK PARCELS AS RETURNED")]),s("h2",null,"Current page: "+I(p(n)+1),1),(v(),A(y,{key:p(l).value,ref_key:"table",ref:r,data:p(c).parcels,select:T,selected:p(o)},null,8,["data","selected"]))],64))}},N=E(D,[["__scopeId","data-v-75ef904f"]]);export{N as default};
