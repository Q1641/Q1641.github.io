import{V as B}from"./VueTable-5a7e2e73.js";import{_ as j,g as _,h as T,o as p,c as u,d,u as l,F as g,k as I,t as f,i as P,p as x,e as k}from"./index-1bd92f4e.js";const A=c=>(x("data-v-7aa45b5d"),c=c(),k(),c),C=A(()=>d("h1",null,"PARCEL PENDING TO BASES",-1)),S={id:"nav"},G=["value"],N=!0,D={__name:"PendingToBase",setup(c){var i={},h={},t=_(0);const r=_(null);var a=0,o=[];function y(){o[a]=r.value.getParcels();for(var e=[],s=document.getElementById("select_base").value,n=0;n<o.length;n++)for(var v=0;v<o[n].length;v++)e.push(o[n][v]);fetch("https://echo.zuplo.io/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({parcelIDs:e,nextBase:s})}).then(m=>m.json()).then(m=>console.log(JSON.stringify(m.body)))}function b(){document.getElementById("prev").disabled=!0,document.getElementById("next").disabled=!0,o[a]=r.value.getParcels(),a=a+1,fetch("/sample-employee1.json",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{i=e,t.value=t.value+1,document.getElementById("prev").disabled=!1,document.getElementById("next").disabled=!1})}function E(){document.getElementById("prev").disabled=!0,document.getElementById("next").disabled=!0,o[a]=r.value.getParcels(),a=a-1,fetch("/sample-employee.json",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{setTimeout(1e3),i=e,t.value=t.value+1,a!=0&&(document.getElementById("prev").disabled=!1),document.getElementById("next").disabled=!1})}return T(()=>{fetch("/sample-employee.json",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{i=e,t.value=t.value+1}),fetch("/depo-to-base.json",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{h=e,t.value=t.value+1})}),(e,s)=>(p(),u(g,null,[C,d("div",S,[d("button",{id:"next",onClick:s[0]||(s[0]=n=>b())},"NEXT PAGE"),d("button",{disabled:"",id:"prev",onClick:s[1]||(s[1]=n=>E())},"PREV PAGE"),d("button",{onClick:s[2]||(s[2]=n=>y())},"DELIVER TO BASE"),(p(),u("select",{id:"select_base",key:l(t).value},[(p(!0),u(g,null,I(l(h).bases,n=>(p(),u("option",{value:n._id},f(n.baseLocation),9,G))),256))]))]),d("h2",null,"Current page: "+f(l(a)+1),1),(p(),P(B,{key:l(t).value,ref_key:"table",ref:r,data:l(i).parcels,select:N,selected:l(o)},null,8,["data","selected"]))],64))}},V=j(D,[["__scopeId","data-v-7aa45b5d"]]);export{V as default};
