import{V as I}from"./VueTable-961a399a.js";import{_ as B,r as b,f as P,o as i,c as u,d,u as l,F as g,i as T,t as f,g as k,p as x,h as A}from"./index-d2bcbd4b.js";const D=c=>(x("data-v-dbc97769"),c=c(),A(),c),j=D(()=>d("h1",null,"PARCEL PENDING TO DEPOS",-1)),C={id:"nav"},S=["value"],G=!0,N={__name:"PendingToDepo",setup(c){var r={},m={},o=b(0);const p=b(null);var t=0,s=[];function _(){s[t]=p.value.getParcels();for(var e=document.getElementById("select_base").value,a=[],n=0;n<s.length;n++)for(var h=0;h<s[n].length;h++)a.push(s[n][h]);fetch("http://localhost:8080/parcel/to-distribution-base",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:document.cookie},body:JSON.stringify({parcelIDs:a,nextBase:e})}).then(v=>v.json()).then(v=>console.log(JSON.stringify(v.body)))}function y(){document.getElementById("prev").disabled=!0,document.getElementById("next").disabled=!0,s[t]=p.value.getParcels(),t=t+1,fetch("http://localhost:8080/parcel/to-distribution-base?page="+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:document.cookie}}).then(e=>e.json()).then(e=>{e.parcels.length!=0?(r=e,o.value=o.value+1,document.getElementById("prev").disabled=!1,document.getElementById("next").disabled=!1):(alert("no more data!"),t-=1,t!=0&&(document.getElementById("prev").disabled=!1))})}function E(){document.getElementById("prev").disabled=!0,document.getElementById("next").disabled=!0,s[t]=p.value.getParcels(),t=t-1,fetch("http://localhost:8080/parcel/to-distribution-base?page="+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:document.cookie}}).then(e=>e.json()).then(e=>{r=e,o.value=o.value+1,t!=0&&(document.getElementById("prev").disabled=!1),document.getElementById("next").disabled=!1})}return P(()=>{fetch("http://localhost:8080/parcel/to-distribution-base?page=0",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:document.cookie}}).then(e=>e.json()).then(e=>{r=e,m=e,o.value=o.value+1})}),(e,a)=>(i(),u(g,null,[j,d("div",C,[d("button",{id:"next",onClick:a[0]||(a[0]=n=>y())},"NEXT PAGE"),d("button",{disabled:"",id:"prev",onClick:a[1]||(a[1]=n=>E())},"PREV PAGE"),d("button",{onClick:a[2]||(a[2]=n=>_())},"DELIVER TO DEPO"),(i(),u("select",{id:"select_base",key:l(o).value},[(i(!0),u(g,null,T(l(m).bases,n=>(i(),u("option",{value:n._id},f(n.baseLocation),9,S))),256))]))]),d("h2",null,"Current page: "+f(l(t)+1),1),(i(),k(I,{key:l(o).value,ref_key:"table",ref:p,data:l(r).parcels,select:G,selected:l(s)},null,8,["data","selected"]))],64))}},V=B(N,[["__scopeId","data-v-dbc97769"]]);export{V as default};
